const e={list:document.querySelector(".movie-collection")},t=new class{async fetchMovies(){try{return await fetch(`https://api.themoviedb.org/3/movie/popular?api_key=7fea517bd5b294dd7a1b57e94e2c1c68&language=en-US&page=${this.page}`).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()}))}catch{Notiflix.Notify.failure("Sorry, we have API error. Please try again.")}}async fetchGenr(){return await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=7fea517bd5b294dd7a1b57e94e2c1c68&language=en-US").then((e=>{if(!e.ok)throw new Error(e.status);return e.json()})).then((e=>e))}constructor(){this.page=1}};t.fetchMovies().then((n=>{t.fetchGenr().then((t=>{!function(t,n){e.list.innerHTML=t.map((e=>{let t=function(e,t){return e.map((e=>t.find((t=>t.id===e)).name))}(e.genre_ids,n);return t.length>2&&(t=[t[0],t[1],"Other"]),`<li class="movies__item">\n    <a href="" class="movies__link">\n        <img src='https://image.tmdb.org/t/p/original${e.poster_path}' class="movie__image" alt="Movie">\n        <div class="movie__text-part">\n            <h2 class="movie__title">${e.title}</h2>\n            <p class="movie__genre">${t.join(" ")} <span class="stick">|</span> \n                <span class="movie__year">${e.release_date.slice(0,4)}</span></p>\n        </div>\n    </a>\n</li>`})).join("")}(n.results,t.genres)}))}));
//# sourceMappingURL=index.47a261a9.js.map
