const e=document.querySelector(".movie-collection"),t=document.querySelector(".modal__card-overlay"),i=document.querySelector(".modal__card-content"),a=document.querySelector(".modal__close"),o=i.querySelector(".modal__info"),n=document.querySelector(".wached"),l=document.querySelector(".queue");function c(e){e.target===t&&(t.removeEventListener("click",c),t.classList.remove("modal__card-overlay--active"),i.classList.remove("modal__card--active"),r())}function s(e){e.target===a&&(a.removeEventListener("click",s),t.classList.remove("modal__card-overlay--active"),i.classList.remove("modal__card--active"),r())}function d(e){27===e.keyCode&&(window.removeEventListener("keydown",d),t.classList.remove("modal__card-overlay--active"),i.classList.remove("modal__card--active"),r())}function r(){l.textContent="add to queue",n.textContent="add to Watched"}e.addEventListener("click",(async function(n){if(n.preventDefault(),n.target!==e){const e=n.target.closest(".movies__item").dataset.id;i.setAttribute("data-id",e),o.innerHTML=await async function(e){return await fetch(`https://api.themoviedb.org/3//movie/${e}?api_key=7fea517bd5b294dd7a1b57e94e2c1c68&language=en-US`).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()})).then((e=>e))}(e).then((e=>{const{original_title:t,vote_average:i,vote_count:a,poster_path:o,popularity:n,genres:l,overview:c,id:s}=e;return`\n                <img src="https://image.tmdb.org/t/p/original${o}" alt="${t} " class="modal__img" />\n                <div class="modal-movie-film-text">\n                <h2 class="modal__info-title">${t.toUpperCase()}</h2>\n                <ul class="discription__modal id=${s}">\n                  <li class="discription__modal-item">\n                    <p class="discription__modal-title">Vote / Votes</p>\n                    <p class="discription__modal-text"><span>${i}</span> / ${a}</p>\n                  </li>\n                  <li class="discription__modal-item">\n                    <p class="discription__modal-title">Popularity</p>\n                    <p class="discription__modal-text">${n.toFixed(1)}</p>\n                  </li>\n                  <li class="discription__modal-item">\n                    <p class="discription__modal-title">Original Title</p>\n                    <p class="discription__modal-text">${t.toUpperCase()}</p>\n                  </li>\n                  <li class="discription__modal-item">\n                    <p class="discription__modal-title">Genre</p>\n                    <p class="discription__modal-text">${function(e){return 0===e.length?"":`${e.map((e=>e.name)).join(", ")}`}(l)}</p>\n                  </li>\n                </ul>\n\n                <h4 class="about__modal-title">About</h4>\n                <p class="about__modal-text">\n                  ${c}\n                </p></div>\n            `}))}t.classList.add("modal__card-overlay--active"),i.classList.add("modal__card--active"),a.addEventListener("click",s),t.addEventListener("click",c),window.addEventListener("keydown",d)}));
//# sourceMappingURL=library.8d0abbac.js.map
