{"mappings":"YAAA,MAAMA,EAAOC,SAASC,cAAc,qBAC9BC,EAAeF,SAASC,cAAc,wBACtCE,EAAYH,SAASC,cAAc,wBACnCG,EAAWJ,SAASC,cAAc,iBAClCI,EAAYF,EAAUF,cAAc,gBACpCK,EAAgBN,SAASC,cAAc,WACvCM,EAAgBP,SAASC,cAAc,UAiE7C,SAASO,EAAeC,GAClBA,EAAEC,SAAWR,IACfA,EAAaS,oBAAoB,QAASH,GAC1CN,EAAaU,UAAUC,OAAO,+BAC9BV,EAAUS,UAAUC,OAAO,uBAC3BC,KAIJ,SAASC,EAAWN,GACdA,EAAEC,SAAWN,IACfA,EAASO,oBAAoB,QAASI,GACtCb,EAAaU,UAAUC,OAAO,+BAC9BV,EAAUS,UAAUC,OAAO,uBAC3BC,KAIJ,SAASE,EAAcP,GACH,KAAdA,EAAEQ,UACJC,OAAOP,oBAAoB,UAAWK,GACtCd,EAAaU,UAAUC,OAAO,+BAC9BV,EAAUS,UAAUC,OAAO,uBAC3BC,KA4BJ,SAASA,IACPP,EAAcK,UAAUC,OAAO,qBAC/BP,EAAcM,UAAUC,OAAO,qBAC/BN,EAAcY,YAAc,eAC5Bb,EAAca,YAAc,iBAtH9BpB,EAAKqB,iBAAiB,SACtBC,eAAyBZ,GAEvB,GADAA,EAAEa,iBACEb,EAAEC,SAAWX,EAAM,CACrB,MAAMwB,EAAUd,EAAEC,OAAOc,QAAQ,iBAAiBC,QAAQC,GAC1DvB,EAAUwB,aAAa,UAAWJ,GAClClB,EAAUuB,gBAoFdP,eAAiCK,GAC/B,aAAaG,MACX,uCAAuCH,6DAEtCI,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,UAEjBL,MAAKM,GACGA,IA/FmBC,CAAkBd,GAASO,MAAKM,IAC1D,MAAME,eACJA,EAAcC,aACdA,EAAYC,WACZA,EAAUC,YACVA,EAAWC,WACXA,EAAUC,OACVA,EAAMC,SACNA,EAAQlB,GACRA,GACEU,EACJ,MAAO,kEACkDK,WAAqBH,4EACpCA,EAAeO,wEACZnB,uMAGYa,cAAyBC,0NAI/BE,EAAWI,QAC9C,+NAKmCR,EAAeO,iOAwExE,SAAwBF,GACtB,OAAsB,IAAlBA,EAAOI,OACF,GACEJ,EAAOI,OAAS,EAClB,GAAGJ,EAAO,GAAGK,SAASL,EAAO,GAAGK,cAEhC,GAAG,CAACL,EAAOM,KAAIC,GAASA,EAAMF,QAAOG,KAAK,QA1EIC,CACnCT,yLAOFC,2CAMlB1C,EAAaU,UAAUyC,IAAI,+BAC3BlD,EAAUS,UAAUyC,IAAI,uBACxBjD,EAASgB,iBAAiB,QAASL,GACnCb,EAAakB,iBAAiB,QAASZ,GACvCU,OAAOE,iBAAiB,UAAWJ,M","sources":["src/js/modal.js"],"sourcesContent":["const btns = document.querySelector('.movie-collection');\nconst modalOverlay = document.querySelector('.modal__card-overlay');\nconst modalCard = document.querySelector('.modal__card-content');\nconst closeBtn = document.querySelector('.modal__close');\nconst modalInfo = modalCard.querySelector('.modal__info');\nconst btnAddToWatch = document.querySelector('.wached');\nconst btnAddToQueue = document.querySelector('.queue');\n\nbtns.addEventListener('click', showModal);\nasync function showModal(e) {\n  e.preventDefault();\n  if (e.target !== btns) {\n    const movieId = e.target.closest('.movies__item').dataset.id;\n    modalCard.setAttribute('data-id', movieId);\n    modalInfo.innerHTML = await fetchMovieDetails(movieId).then(data => {\n      const {\n        original_title,\n        vote_average,\n        vote_count,\n        poster_path,\n        popularity,\n        genres,\n        overview,\n        id,\n      } = data;\n      return `\n                <img src=\"https://image.tmdb.org/t/p/original${poster_path}\" alt=\"${original_title} \" class=\"modal__img\" />\n                <h2 class=\"modal__info-title\">${original_title.toUpperCase()}</h2>\n                <ul class=\"discription__modal id=${id}\">\n                  <li class=\"discription__modal-item\">\n                    <p class=\"discription__modal-title\">Vote / Votes</p>\n                    <p class=\"discription__modal-text\"><span>${vote_average}</span> / ${vote_count}</p>\n                  </li>\n                  <li class=\"discription__modal-item\">\n                    <p class=\"discription__modal-title\">Popularity</p>\n                    <p class=\"discription__modal-text\">${popularity.toFixed(\n                      1\n                    )}</p>\n                  </li>\n                  <li class=\"discription__modal-item\">\n                    <p class=\"discription__modal-title\">Original Title</p>\n                    <p class=\"discription__modal-text\">${original_title.toUpperCase()}</p>\n                  </li>\n                  <li class=\"discription__modal-item\">\n                    <p class=\"discription__modal-title\">Genre</p>\n                    <p class=\"discription__modal-text\">${checkGenreList(\n                      genres\n                    )}</p>\n                  </li>\n                </ul>\n\n                <h4 class=\"about__modal-title\">About</h4>\n                <p class=\"about__modal-text\">\n                  ${overview}\n                </p>\n            `;\n    });\n  }\n  closeBtn;\n  modalOverlay.classList.add('modal__card-overlay--active');\n  modalCard.classList.add('modal__card--active');\n  closeBtn.addEventListener('click', closeByBtn);\n  modalOverlay.addEventListener('click', closeByOverlay);\n  window.addEventListener('keydown', closeByWindow);\n}\n\n// let path = e.currentTarget.getAttribute('data-path');\n// modalCard.classList.remove('modal__card--active');\n// document.querySelector(`[data-target=\"${path}\"]`).classList.add('modal__card--active');\n// modalOverlay.classList.add('modal__card-overlay--active');\n\nfunction closeByOverlay(e) {\n  if (e.target === modalOverlay) {\n    modalOverlay.removeEventListener('click', closeByOverlay);\n    modalOverlay.classList.remove('modal__card-overlay--active');\n    modalCard.classList.remove('modal__card--active');\n    cleanButtons();\n  }\n}\n\nfunction closeByBtn(e) {\n  if (e.target === closeBtn) {\n    closeBtn.removeEventListener('click', closeByBtn);\n    modalOverlay.classList.remove('modal__card-overlay--active');\n    modalCard.classList.remove('modal__card--active');\n    cleanButtons();\n  }\n}\n\nfunction closeByWindow(e) {\n  if (e.keyCode === 27) {\n    window.removeEventListener('keydown', closeByWindow);\n    modalOverlay.classList.remove('modal__card-overlay--active');\n    modalCard.classList.remove('modal__card--active');\n    cleanButtons();\n  }\n}\n\nasync function fetchMovieDetails(id) {\n  return await fetch(\n    `https://api.themoviedb.org/3//movie/${id}?api_key=7fea517bd5b294dd7a1b57e94e2c1c68&language=en-US`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      return data;\n    });\n}\n\nfunction checkGenreList(genres) {\n  if (genres.length === 0) {\n    return '';\n  } else if (genres.length > 2) {\n    return `${genres[0].name}, ${genres[1].name}, Other`;\n  } else {\n    return `${[genres.map(genre => genre.name)].join(', ')}`;\n  }\n}\nfunction cleanButtons() {\n  btnAddToQueue.classList.remove('modal__active-btn');\n  btnAddToWatch.classList.remove('modal__active-btn');\n  btnAddToQueue.textContent = 'add to queue';\n  btnAddToWatch.textContent = 'add to Watched';\n}\n"],"names":["$40873ecf3c18e122$var$btns","document","querySelector","$40873ecf3c18e122$var$modalOverlay","$40873ecf3c18e122$var$modalCard","$40873ecf3c18e122$var$closeBtn","$40873ecf3c18e122$var$modalInfo","$40873ecf3c18e122$var$btnAddToWatch","$40873ecf3c18e122$var$btnAddToQueue","$40873ecf3c18e122$var$closeByOverlay","e","target","removeEventListener","classList","remove","$40873ecf3c18e122$var$cleanButtons","$40873ecf3c18e122$var$closeByBtn","$40873ecf3c18e122$var$closeByWindow","keyCode","window","textContent","addEventListener","async","preventDefault","movieId","closest","dataset","id","setAttribute","innerHTML","fetch","then","response","ok","Error","status","json","data","$40873ecf3c18e122$var$fetchMovieDetails","original_title","vote_average","vote_count","poster_path","popularity","genres","overview","toUpperCase","toFixed","length","name","map","genre","join","$40873ecf3c18e122$var$checkGenreList","add"],"version":3,"file":"index.62aa3ded.js.map"}