const e=document.querySelector(".wached"),t=document.querySelector(".queue"),o=document.querySelector(".movie-collection");let a=[];e.addEventListener("click",(t=>{(async function(e){return await fetch(`https://api.themoviedb.org/3//movie/${e}?api_key=7fea517bd5b294dd7a1b57e94e2c1c68&language=en-US`).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()})).then((e=>e))})(t.target.closest(".modal__card-content").getAttribute("data-id")).then((t=>{localStorage.getItem("watched")&&(a=JSON.parse(localStorage.getItem("watched")));let o=!1;for(let e of a)if(e.id===t.id){o=!0;break}o?(!function(e){const t=JSON.parse(localStorage.getItem("watched")).filter((t=>t.id!==e));localStorage.setItem("watched",JSON.stringify(t))}(t.id),e.textContent="add to Watched"):(a.push(t),localStorage.setItem("watched",JSON.stringify(a)))})),e.textContent="Remove from Watched"})),o.addEventListener("click",(function(a){if(a.target!==o){const o=parseInt(a.target.closest(".movies__item").dataset.id),c=JSON.parse(localStorage.getItem("watched")),r=JSON.parse(localStorage.getItem("queue"));if(c){let t=!1;for(const e of c)e.id===o&&(t=!0);e.textContent=t?"Remove from Watched":"Add to Watched"}if(r){let e=!1;for(const t of r)t.id===o&&(e=!0);t.textContent=e?"Remove from Queue":"Add to queue"}}}));
//# sourceMappingURL=library.08838934.js.map
