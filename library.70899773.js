const btns=document.querySelector(".movie-collection"),modalOverlay=document.querySelector(".modal__card-overlay"),modalCard=document.querySelector(".modal__card-content"),closeBtn=document.querySelector(".modal__close"),modalInfo=modalCard.querySelector(".modal__info"),btnAddToWatch=document.querySelector(".wached"),btnAddToQueue=document.querySelector(".queue");async function showModal(e){if(e.preventDefault(),e.target!==btns){const t=e.target.closest(".movies__item").dataset.id;modalCard.setAttribute("data-id",t),modalInfo.innerHTML=await fetchMovieDetails(t).then((e=>{const{original_title:t,vote_average:a,vote_count:o,poster_path:l,popularity:n,genres:i,overview:d,id:s}=e;return`\n                <img src="https://image.tmdb.org/t/p/original${l}" alt="${t} " class="modal__img" />\n                <h2 class="modal__info-title">${t.toUpperCase()}</h2>\n                <ul class="discription__modal id=${s}">\n                  <li class="discription__modal-item">\n                    <p class="discription__modal-title">Vote / Votes</p>\n                    <p class="discription__modal-text"><span>${a}</span> / ${o}</p>\n                  </li>\n                  <li class="discription__modal-item">\n                    <p class="discription__modal-title">Popularity</p>\n                    <p class="discription__modal-text">${n.toFixed(1)}</p>\n                  </li>\n                  <li class="discription__modal-item">\n                    <p class="discription__modal-title">Original Title</p>\n                    <p class="discription__modal-text">${t.toUpperCase()}</p>\n                  </li>\n                  <li class="discription__modal-item">\n                    <p class="discription__modal-title">Genre</p>\n                    <p class="discription__modal-text">${checkGenreList(i)}</p>\n                  </li>\n                </ul>\n\n                <h4 class="about__modal-title">About</h4>\n                <p class="about__modal-text">\n                  ${d}\n                </p>\n            `}))}modalOverlay.classList.add("modal__card-overlay--active"),modalCard.classList.add("modal__card--active"),closeBtn.addEventListener("click",closeByBtn),modalOverlay.addEventListener("click",closeByOverlay),window.addEventListener("keydown",closeByWindow)}function closeByOverlay(e){e.target===modalOverlay&&(modalOverlay.removeEventListener("click",closeByOverlay),modalOverlay.classList.remove("modal__card-overlay--active"),modalCard.classList.remove("modal__card--active"),cleanButtons())}function closeByBtn(e){e.target===closeBtn&&(closeBtn.removeEventListener("click",closeByBtn),modalOverlay.classList.remove("modal__card-overlay--active"),modalCard.classList.remove("modal__card--active"),cleanButtons())}function closeByWindow(e){27===e.keyCode&&(window.removeEventListener("keydown",closeByWindow),modalOverlay.classList.remove("modal__card-overlay--active"),modalCard.classList.remove("modal__card--active"),cleanButtons())}async function fetchMovieDetails(e){return await fetch(`https://api.themoviedb.org/3//movie/${e}?api_key=7fea517bd5b294dd7a1b57e94e2c1c68&language=en-US`).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()})).then((e=>e))}function checkGenreList(e){return 0===e.length?"":e.length>2?`${e[0].name}, ${e[1].name}, Other`:`${[e.map((e=>e.name))].join(", ")}`}function cleanButtons(){btnAddToQueue.classList.remove("modal__active-btn"),btnAddToWatch.classList.remove("modal__active-btn"),btnAddToQueue.textContent="add to queue",btnAddToWatch.textContent="add to Watched"}btns.addEventListener("click",showModal);
//# sourceMappingURL=library.70899773.js.map
